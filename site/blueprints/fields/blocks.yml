label: Blocks
type: blocks

fieldsets:
  columns:
    extends: blocks/columns
    fields:
      layout:
        layouts:
          - "1/1"
          - "1/2, 1/2"
          - "1/4, 1/4, 1/4, 1/4"
        fieldsets:
          - columns
          - heading
          - quote
          - list
          - image
          - gallery
          - audio
          - video
          - page_embed

          text:
            extends: blocks/text
            fields:
              bid:
                label: Unique ID
                type: text
                default: 0
                disabled: true
                when:
                  footnote
                
              footnotes:
                label: Footnotes
                type: structure 
                fields:
                  note:
                    label: Note
                    type: writer
                  ref:
                    label: Ref
                    type: text
                    default: 0
                    disabled: true
                    when:
                      note:
                columns:
                  note:
                    width: 1/1

  - heading
  - quote
  - list
  - image
  - gallery
  - audio
  - video
  - page_embed

  text:
    extends: blocks/text
    fields:
      bid:
        label: Unique ID
        type: text
        default: 0
        disabled: true
        when:
          footnote

      footnotes:
        label: Footnotes
        type: structure
        fields:
          note:
            label: Footnote
            type: writer
          ref:
            label: Ref
            type: text
            default: 0
            disabled: true
            when:
              note:
        columns:
          note:
            width: 1/1

settings:
  fields:
    bg_image:
      label: Backround Image
      type: files
    bg_color:
      label: Background Color
      type: colors